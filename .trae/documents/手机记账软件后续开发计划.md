## 开发计划概述

基于项目日志和需求分析，制定三阶段开发计划：

### 第一阶段：数据持久化（SQLite数据库集成）
**预计时间：2-3天**
- 集成expo-sqlite数据库
- 实现数据库初始化脚本（7张表的创建）
- 创建数据访问层（Repository模式）
- 替换所有模拟数据为真实数据库操作
- 实现数据迁移机制

**参考GitHub项目**：expo-sqlite官方示例、react-native-sqlite-storage、MoneyManager-Expo

### 第二阶段：第三方账单导入（支付宝/微信）
**预计时间：3-4天**
- 集成expo-document-picker文件选择器
- 实现CSV文件解析（papaparse）
- 开发支付宝账单解析器
- 开发微信账单解析器
- 实现数据清洗和格式转换
- 开发导入预览和确认界面

**参考GitHub项目**：Money Manager Ex、Beancount、Firefly III、PapaParse

### 第三阶段：AI智能功能（聊天记账+截图识别）
**预计时间：4-5天**
- 集成Google ML Kit OCR（离线识别）
- 实现收据信息提取器
- 开发聊天记账UI
- 实现正则表达式NLP解析器
- 集成GPT-4o-mini API（复杂场景兜底）
- 开发AI规则配置界面

**参考GitHub项目**：ReceiptScanner、ChatExpense、React Native Tesseract OCR

## 技术选型

| 功能模块 | 推荐技术 | 理由 |
|---------|---------|------|
| 数据库 | expo-sqlite | 与Expo 54完全兼容，离线可用 |
| 文件选择 | expo-document-picker | 纯Expo方案，跨平台 |
| CSV解析 | papaparse | 最流行的JS CSV库 |
| OCR识别 | Google ML Kit | 免费、离线、中文支持好 |
| NLP解析 | 正则+GPT-4o-mini | 成本低（$0.00005/次）、效果好 |

## 开发顺序建议

1. **先做数据持久化** - 所有其他功能都依赖真实数据存储
2. **再做账单导入** - 这是核心需求，技术相对成熟
3. **最后做AI功能** - 依赖前两个阶段，技术复杂度高

## 预期成果

- 所有数据存储在本地SQLite，支持离线使用
- 支持支付宝、微信CSV导入，自动识别字段
- 支持自然语言记账、截图识别，准确率>90%
- AI功能月度成本<$1（1000活跃用户）

---

**确认后，我将开始第一阶段"数据持久化"的具体实施。**